<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Defining a MOMDP · MOMDPs.jl</title><meta name="title" content="Defining a MOMDP · MOMDPs.jl"/><meta property="og:title" content="Defining a MOMDP · MOMDPs.jl"/><meta property="twitter:title" content="Defining a MOMDP · MOMDPs.jl"/><meta name="description" content="Documentation for MOMDPs.jl."/><meta property="og:description" content="Documentation for MOMDPs.jl."/><meta property="twitter:description" content="Documentation for MOMDPs.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">MOMDPs.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">MOMDPs.jl</a></li><li class="is-active"><a class="tocitem" href>Defining a MOMDP</a><ul class="internal"><li><a class="tocitem" href="#State-Space"><span>State Space</span></a></li><li><a class="tocitem" href="#Initial-State-Distribution"><span>Initial State Distribution</span></a></li><li><a class="tocitem" href="#Transition-Functions"><span>Transition Functions</span></a></li><li><a class="tocitem" href="#Conditional-Dependencies"><span>Conditional Dependencies</span></a></li><li><a class="tocitem" href="#Helper-Functions"><span>Helper Functions</span></a></li><li><a class="tocitem" href="#POMDP_of_Discrete_MOMDP"><span><code>POMDP_of_Discrete_MOMDP</code></span></a></li></ul></li><li><a class="tocitem" href="../policies/">Policies</a></li><li><a class="tocitem" href="../belief_updaters/">Belief Updaters</a></li><li><a class="tocitem" href="../discrete_momdp_functions/">Discrete Helper Functions</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Defining a MOMDP</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Defining a MOMDP</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaPOMDP/MOMDPs.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaPOMDP/MOMDPs.jl/blob/master/docs/src/defining_momdp.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Defining-a-MOMDP"><a class="docs-heading-anchor" href="#Defining-a-MOMDP">Defining a MOMDP</a><a id="Defining-a-MOMDP-1"></a><a class="docs-heading-anchor-permalink" href="#Defining-a-MOMDP" title="Permalink"></a></h1><p>Since MOMDPs are a factored POMDP, we can integrate with the existing POMDPs.jl framework. In particular, the <a href="../api/#MOMDPs.MOMDP"><code>MOMDP</code></a> type extends the <code>POMDP</code> type where the state is a tuple of the fully observed state and the partially observed state.</p><p>For discrete problems where we explictly are defining the problem, instead of defining the <code>transition</code>, <code>states</code>, <code>stateindex</code>, and <code>initialstate</code> functions, you need to define them for the fully observable and hidden state spaces separately.</p><p>For all other functions (e.g. <code>observation</code>, <code>reward</code>, etc.), the functions are exported from POMDPs.jl and need to be defined using a state as a tuple <code>(x::X, y::Y)</code> where <code>X</code> and <code>Y</code> are the types of the fully observed and partially observed states, respectively.</p><h2 id="State-Space"><a class="docs-heading-anchor" href="#State-Space">State Space</a><a id="State-Space-1"></a><a class="docs-heading-anchor-permalink" href="#State-Space" title="Permalink"></a></h2><p>To define the state space for a MOMDP, the following functions are required:</p><ul><li><a href="../api/#MOMDPs.states_x"><code>states_x(m::MOMDP)</code></a>: Returns the set of all fully observable states.</li><li><a href="../api/#MOMDPs.states_y"><code>states_y(m::MOMDP)</code></a>: Returns the set of all partially observable states.</li></ul><p>To index these states separately, use:</p><ul><li><a href="../api/#MOMDPs.stateindex_x"><code>stateindex_x(m::MOMDP, state)</code></a>: Returns the index of the visible state <code>x</code> where <code>state</code> is a tuple of the form <code>(x, y)</code>.</li><li><a href="../api/#MOMDPs.stateindex_y"><code>stateindex_y(m::MOMDP, state)</code></a>: Returns the index of the hidden state <code>y</code> where <code>state</code> is a tuple of the form <code>(x, y)</code>.</li></ul><h2 id="Initial-State-Distribution"><a class="docs-heading-anchor" href="#Initial-State-Distribution">Initial State Distribution</a><a id="Initial-State-Distribution-1"></a><a class="docs-heading-anchor-permalink" href="#Initial-State-Distribution" title="Permalink"></a></h2><p>The initial state distribution describes the probabilities of beginning the MOMDP in particular states. Given the factorized nature of MOMDPs, these distributions can also be factorized into two components:</p><ul><li><a href="../api/#MOMDPs.initialstate_x"><code>initialstate_x(m::MOMDP)</code></a>: Provides the probability distribution over the fully observable states at the initial timestep.</li><li><a href="../api/#MOMDPs.initialstate_y"><code>initialstate_y(m::MOMDP, x)</code></a>: Given a fully observable initial state <code>x</code>, this function returns the initial probability distribution over the partially observable states.</li></ul><p>Additionally, a helper function, <a href="../api/#MOMDPs.is_initial_distribution_independent"><code>is_initial_distribution_independent(::MOMDP)</code></a>, can be used to indicate if the initial partially observable state distribution is independent of the initial fully observable state. Returning true here signals that the partially observable state distribution is unaffected by the choice of initial observable state. This helps speed up some parts of solvers (e.g. writing the initial state distribution when constructing the pomdpx file for SARSOP).</p><h2 id="Transition-Functions"><a class="docs-heading-anchor" href="#Transition-Functions">Transition Functions</a><a id="Transition-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Transition-Functions" title="Permalink"></a></h2><p>Transitions are separately defined for the observable and hidden parts of the state:</p><ul><li><a href="../api/#MOMDPs.transition_x"><code>transition_x(m::MOMDP, state, action)</code></a>: Provides the distribution over the next fully observable state <span>$x^\prime$</span> given the current state <span>$(x, y)$</span> and action <span>$a$</span>.</li><li><a href="../api/#MOMDPs.transition_y"><code>transition_y(m::MOMDP, state, action, statep_visible)</code></a>: Returns the probability distribution over the next partially observable state <span>$y^\prime$</span> given the current state <span>$(x, y)$</span>, action <span>$a$</span>, and the resulting fully observable state <span>$x^\prime$</span>.</li></ul><h2 id="Conditional-Dependencies"><a class="docs-heading-anchor" href="#Conditional-Dependencies">Conditional Dependencies</a><a id="Conditional-Dependencies-1"></a><a class="docs-heading-anchor-permalink" href="#Conditional-Dependencies" title="Permalink"></a></h2><p>As a default, MOMDPs.jl assumes the structure as shown in the diagram. However, a lot of problems have a simpler structure. For example, the visible state <span>$x^\prime$</span> could only depend on the previous visible state <span>$x$</span> and action <span>$a$</span>. </p><img src="../images/momdp_diagram_color.svg" alt="MOMDP Diagram Highlighted" style="width: 40%;"><p>The prescence of the colored edges can designated using the following functions:</p><ul><li>Edge label <span>$(1)$</span>: <a href="../api/#MOMDPs.is_y_prime_dependent_on_x_prime"><code>is_y_prime_dependent_on_x_prime(m::MOMDP)</code></a></li><li>Edge label <span>$(2)$</span>: <a href="../api/#MOMDPs.is_x_prime_dependent_on_y"><code>is_x_prime_dependent_on_y(m::MOMDP)</code></a></li></ul><p>As a default, these functions return <code>true</code>, indicating the presence of the edges and thus the standard MOMDP structure. However, it is highly recommended to set these functions appropriately for your problem in order to improve performance of solvers.</p><h2 id="Helper-Functions"><a class="docs-heading-anchor" href="#Helper-Functions">Helper Functions</a><a id="Helper-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Helper-Functions" title="Permalink"></a></h2><p>While <code>states</code>, <code>stateindex</code>, and <code>initialstate</code> are not required to be defined for a MOMDP, there are situations where having these function defined are useful. For discrete MODMPs, we extend these functions using the defined MOMDP functions.</p><ul><li><a href="../api/#POMDPs.states-Tuple{MOMDP}"><code>states(m::MOMDP)</code></a>: Returns the full state space as a vector of <code>Tuple{X,Y}</code> where <code>X</code> is the type of the fully observable state and <code>Y</code> is the type of the partially observable state. This functions uses <a href="../api/#MOMDPs.states_x"><code>states_x</code></a> and <a href="../api/#MOMDPs.states_y"><code>states_y</code></a> to construct the full state space.</li><li><a href="../api/#POMDPs.stateindex-Union{Tuple{O}, Tuple{A}, Tuple{Y}, Tuple{X}, Tuple{MOMDP{X, Y, A, O}, Tuple{X, Y}}} where {X, Y, A, O}"><code>stateindex(m::MOMDP, s)</code></a>: Returns the index of the state <code>s</code> in the state space. This function uses <a href="../api/#MOMDPs.stateindex_x"><code>stateindex_x</code></a> and <a href="../api/#MOMDPs.stateindex_y"><code>stateindex_y</code></a>.</li><li><a href="../api/#POMDPs.transition-Union{Tuple{O}, Tuple{A}, Tuple{Y}, Tuple{X}, Tuple{MOMDP{X, Y, A, O}, Tuple{X, Y}, A}} where {X, Y, A, O}"><code>transition(m::MOMDP, s, a)</code></a>: Returns the transition distribution over the next state (each state is a tuple of <code>(x, y)</code>) given the current state and action. This function uses <a href="../api/#MOMDPs.transition_x"><code>transition_x</code></a> and <a href="../api/#MOMDPs.transition_y"><code>transition_y</code></a> to construct the full transition distribution.</li><li><a href="../api/#POMDPs.initialstate-Union{Tuple{MOMDP{X, Y, A, O}}, Tuple{O}, Tuple{A}, Tuple{Y}, Tuple{X}} where {X, Y, A, O}"><code>initialstate(m::MOMDP)</code></a>: Returns the initial state distribution over the full state space. This function uses <a href="../api/#MOMDPs.initialstate_x"><code>initialstate_x</code></a> and <a href="../api/#MOMDPs.initialstate_y"><code>initialstate_y</code></a> to construct the full initial state distribution.</li></ul><h2 id="POMDP_of_Discrete_MOMDP"><a class="docs-heading-anchor" href="#POMDP_of_Discrete_MOMDP"><code>POMDP_of_Discrete_MOMDP</code></a><a id="POMDP_of_Discrete_MOMDP-1"></a><a class="docs-heading-anchor-permalink" href="#POMDP_of_Discrete_MOMDP" title="Permalink"></a></h2><p>The <a href="#POMDP_of_Discrete_MOMDP"><code>POMDP_of_Discrete_MOMDP</code></a> type is a wrapper around a <code>MOMDP</code> that allows for the use of existing POMDP solvers. It is a subtype of <code>POMDP</code> and thus can be used with any POMDP solver that is compatible with POMDPs.jl.</p><p>This type is used to convert a Discrete MOMDP into a POMDP. There are functions defined for this POMDP that use the functions defined for the MOMDP type. Primarily, it uses the helper functions defined above. </p><p>The resulting state space is the Cartesian product of the fully observable state space and the partially observable state space <span>$\mathcal{X} \times \mathcal{Y}$</span>. This might result in a slightly larger state space than required (e.g. if you define a single terminal state in either the fully observable or partially observable factored state spaces).</p><p>If the original observation space of the MOMDP is of size <span>$\mathcal{O}$</span> and the visible state space is of size <span>$\mathcal{X}$</span>, then the observation space of the <code>POMDP_of_Discrete_MOMDP</code> is <span>$\mathcal{X} \times \mathcal{O}$</span>. Each observation is a tuple of the form <code>(x, o)</code> where <code>x</code> is a fully observable state and <code>o</code> is an observation.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« MOMDPs.jl</a><a class="docs-footer-nextpage" href="../policies/">Policies »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.12.0 on <span class="colophon-date" title="Wednesday 18 June 2025 23:32">Wednesday 18 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
